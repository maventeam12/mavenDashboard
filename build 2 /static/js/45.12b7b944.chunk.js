"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[45],{93045:function(e,s,t){t.r(s),t.d(s,{default:function(){return R}});var n=t(1413),i=t(29439),a=t(63738),r=t(47619),c=t(69649),o=t(69099),l=t(65280),m=t(82294),d=t(61113),u=t(23132),f=t(81056),x=t(47313),h=t(22408),v=t(29466),p=t(97890),w=t(58970),j=t(75627),y=t(62563),Z=t(6473),b=t(38768),g=t(58631),N=t(35119),k=t(69382),C=t(19860),S=t(70492),_=t(46417);var I=function(e){var s=(0,h.v9)(g.dy),t=(0,h.I0)(),n=(0,j.Gc)(),i=n.formState,a=n.watch,r=n.getValues,c=i.isValid,l=i.dirtyFields,m=a("name"),u=(0,C.Z)(),x=(0,p.s0)();return(0,_.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,_.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,_.jsx)(f.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,_.jsxs)(d.Z,{className:"flex items-center sm:mb-12",component:v.rU,role:"button",to:"/websiteConfiguration/services",color:"inherit",children:[(0,_.jsx)(S.Z,{style:{color:"#f4b231"},size:20,children:"ltr"===u.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,_.jsx)("span",{className:"flex mx-4 font-medium",style:{color:"#f4b231"},children:"Services"})]})}),(0,_.jsx)("div",{className:"flex items-center max-w-full",children:(0,_.jsxs)(f.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,_.jsx)(d.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:m||"New Service"}),(0,_.jsx)(d.Z,{variant:"caption",className:"font-medium",children:"Service Detail"})]})})]}),(0,_.jsxs)(f.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,_.jsx)(o.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){t((0,N.c)({access_token:window.localStorage.getItem("access_token"),email:s.email,id:s.id,username:s.username,serviceId:r().id})).then((function(){x("/websiteConfiguration/services")}))},startIcon:(0,_.jsx)(S.Z,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Remove"}),(0,_.jsx)(o.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",disabled:w.Z.isEmpty(l)||!c,onClick:function(){r().id?t((0,N.Kp)({data:r(),access_token:window.localStorage.getItem("access_token"),email:s.email,id:s.id,username:s.username})).then((function(){x("/websiteConfiguration/services")})):t((0,N.M3)({data:r(),access_token:window.localStorage.getItem("access_token"),email:s.email,id:s.id,username:s.username})).then((function(){x("/websiteConfiguration/services")}))},children:"Save"})]})]})},E=t(31427),V=t(41727);var G=function(e){var s=(0,j.Gc)(),t=s.control,i=s.formState.errors;return(0,_.jsx)("div",{children:(0,_.jsx)(j.Qr,{name:"name",control:t,defaultValue:"",render:function(e){var s,t=e.field;return(0,_.jsx)(E.Z,(0,n.Z)((0,n.Z)({},t),{},{className:"mt-8 mb-16",error:!!i.name,required:!0,helperText:null===i||void 0===i||null===(s=i.name)||void 0===s?void 0:s.message,label:"Service name",autoFocus:!0,id:"name",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,_.jsx)(V.Z,{position:"start",children:(0,_.jsx)(S.Z,{size:20,children:"material-outline:miscellaneous_services"})})}}))}})})},F=Z.Ry().shape({name:Z.Z_().required("You must enter the service title").min(1,"The service title must be at least 1 characters")});var R=(0,u.Z)("websiteConfiguration",k.Z)((function(e){var s=(0,h.I0)(),t=(0,h.v9)(N.m5),u=(0,b.Z)((function(e){return e.breakpoints.down("lg")})),Z=(0,h.v9)(g.dy),k=(0,p.UO)(),C=k.serviceId,S=(0,x.useState)(0),E=(0,i.Z)(S,2),V=E[0],R=E[1],T=(0,x.useState)(!1),U=(0,i.Z)(T,2),q=U[0],z=U[1],B=(0,j.cI)({mode:"onChange",defaultValues:{name:""},resolver:(0,y.X)(F)}),K=B.reset,P=B.watch,W=(B.control,B.onChange,B.formState,P());return(0,c.KW)((function(){"new"===C?s((0,N.y0)()):s((0,N.ko)({access_token:window.localStorage.getItem("access_token"),email:Z.email,id:Z.id,username:Z.username,serviceId:C})).then((function(e){e.payload||z(!0)}))}),[s,k]),(0,x.useEffect)((function(){t&&K(t)}),[t,K]),(0,x.useEffect)((function(){return function(){s((0,N.wG)()),z(!1)}}),[s]),q?(0,_.jsxs)(f.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,_.jsx)(d.Z,{color:"text.secondary",variant:"h5",children:"There is no such service!"}),(0,_.jsx)(o.Z,{className:"mt-24",component:v.rU,variant:"outlined",to:"/websiteConfiguration/services",color:"inherit",children:"Go to services Page"})]}):w.Z.isEmpty(W)?(0,_.jsx)(a.Z,{}):(0,_.jsx)(j.RV,(0,n.Z)((0,n.Z)({},B),{},{children:(0,_.jsx)(r.Z,{header:(0,_.jsx)(I,{}),content:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(m.Z,{value:V,onChange:function(e,s){R(s)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64 border-b-1"},children:(0,_.jsx)(l.Z,{className:"h-64",label:"Basic Info"})}),(0,_.jsx)("div",{className:"",children:(0,_.jsx)("div",{className:0!==V?"hidden":"p-16 sm:p-24 max-w-2xl",children:(0,_.jsx)(G,{})})})]}),scroll:u?"normal":"content"})}))}))}}]);