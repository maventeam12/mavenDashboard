"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[484],{4484:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(1413),a=t(29439),s=t(63738),i=t(47619),o=t(69649),l=t(69099),c=t(65280),d=t(82294),u=t(61113),m=t(23132),h=t(81056),p=t(47313),x=t(22408),f=t(29466),v=t(97890),j=t(58970),Z=t(75627),w=t(62563),g=t(6473),b=t(38768),y=t(58631),N=t(15861),I=t(64687),C=t.n(I),k=t(69850),_=t(88564),F=t(17551),S=t(70492),q=t(9506),z=t(47131),P=t(46417),T=(0,_.ZP)("div")((function(e){var n=e.theme;return{"& .productImageFeaturedStar":{position:"absolute",top:0,right:0,color:k.Z[400],opacity:0},"& .productImageUpload":{transitionProperty:"box-shadow",transitionDuration:n.transitions.duration.short,transitionTimingFunction:n.transitions.easing.easeInOut},"& .productImageItem":{transitionProperty:"box-shadow",transitionDuration:n.transitions.duration.short,transitionTimingFunction:n.transitions.easing.easeInOut,"&:hover":{"& .productImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:n.shadows[3],"& .productImageFeaturedStar":{opacity:1},"&:hover .productImageFeaturedStar":{opacity:1}}}}}));var V=function(e){var n=(0,Z.Gc)(),t=n.control,r=(n.watch,(0,p.useState)()),s=(0,a.Z)(r,2),i=s[0],o=s[1],l=function(){var e=(0,N.Z)(C().mark((function e(t){var r,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:a=URL.createObjectURL(r),o(a),n.setValue("logoFile",r);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,P.jsx)(T,{children:(0,P.jsx)("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-16 ml-5 mt-10",children:(0,P.jsx)(Z.Qr,{name:"logoFile",control:t,render:function(e){var n=e.field;return(0,P.jsx)(P.Fragment,{children:""!==n.value?(0,P.jsx)("div",{children:"string"==typeof n.value&&n.value.includes("uploadsClientLogo")?(0,P.jsxs)(q.Z,{sx:{borderWidth:4,borderStyle:"solid",borderColor:"Background.paper"},className:"productImageItem flex items-center justify-center relative  rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer outline-none shadow hover:shadow-lg",children:[(0,P.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-10 z-10"}),(0,P.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:[(0,P.jsx)("div",{children:(0,P.jsxs)("label",{htmlFor:"logoFile",className:"flex p-8 cursor-pointer",children:[(0,P.jsx)("input",{accept:"image/*",className:"hidden",id:"logoFile",type:"file",onChange:function(){var e=(0,N.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.onChange(t),l(t);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),(0,P.jsx)(S.Z,{className:"text-white",children:"heroicons-outline:camera"})]})}),(0,P.jsx)("div",{children:(0,P.jsx)(z.Z,{onClick:function(){n.onChange("")},children:(0,P.jsx)(S.Z,{className:"text-white",children:"heroicons-outline:trash"})})})]}),(0,P.jsx)("div",{className:"productImageItem flex items-center justify-center relative  max-w-400 max-h-400 overflow-hiden rounded-16  overflow-hidden cursor-pointer outline-none shadow hover:shadow-lg",children:(0,P.jsx)("img",{className:"max-h-400 max-w-400",src:"http://157.230.98.35/client/".concat(n.value),alt:"blog"})})]}):(0,P.jsxs)(q.Z,{sx:{borderWidth:4,borderStyle:"solid",borderColor:"Background.paper"},className:"productImageItem flex items-center justify-center relative  rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer outline-none shadow hover:shadow-lg",children:[(0,P.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-10 z-10"}),(0,P.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:[(0,P.jsx)("div",{children:(0,P.jsxs)("label",{htmlFor:"logoFile",className:"flex p-8 cursor-pointer",children:[(0,P.jsx)("input",{accept:"image/*",className:"hidden",id:"logoFile",type:"file",onChange:function(){var e=(0,N.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.onChange(t),l(t);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),(0,P.jsx)(S.Z,{className:"text-white",children:"heroicons-outline:camera"})]})}),(0,P.jsx)("div",{children:(0,P.jsx)(z.Z,{onClick:function(){n.onChange("")},children:(0,P.jsx)(S.Z,{className:"text-white",children:"heroicons-outline:trash"})})})]}),(0,P.jsx)("img",{className:"max-h-400 max-w-400",src:i,alt:"blog"})]})}):(0,P.jsxs)(q.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,F.$n)(e.palette.background.default,.4):(0,F.$n)(e.palette.background.default,.02)}},component:"label",htmlFor:"logoFile",className:"productImageUpload flex items-center justify-center relative w-128 h-128 rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer shadow hover:shadow-lg",children:[(0,P.jsx)("input",{accept:"image/*",className:"hidden",id:"logoFile",type:"file",onChange:function(){var e=(0,N.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.onChange(t),l(t);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),(0,P.jsx)(S.Z,{size:32,color:"action",children:"heroicons-outline:upload"})]})})}})})})},E=t(54321),A=t(78138),W=t(19860);var O=function(e){var n=(0,x.v9)(y.dy),t=(0,x.I0)(),r=(0,Z.Gc)(),a=r.formState,s=r.watch,i=r.getValues,o=a.isValid,c=a.dirtyFields,d=s("name"),m=(0,W.Z)(),p=(0,v.s0)();return(0,P.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,P.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,P.jsx)(h.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,P.jsxs)(u.Z,{className:"flex items-center sm:mb-12",component:f.rU,role:"button",to:"/users/clients",color:"inherit",children:[(0,P.jsx)(S.Z,{style:{color:"#f4b231"},size:20,children:"ltr"===m.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,P.jsx)("span",{className:"flex mx-4 font-medium",style:{color:"#f4b231"},children:"Clients"})]})}),(0,P.jsx)("div",{className:"flex items-center max-w-full",children:(0,P.jsxs)(h.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,P.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:d||"New Client"}),(0,P.jsx)(u.Z,{variant:"caption",className:"font-medium",children:"Client Detail"})]})})]}),(0,P.jsxs)(h.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,P.jsx)(l.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){t((0,E.CG)({access_token:window.localStorage.getItem("access_token"),email:n.email,id:n.id,username:n.username,clientId:i().id})).then((function(){p("/users/clients")}))},startIcon:(0,P.jsx)(S.Z,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Remove"}),(0,P.jsx)(l.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",disabled:j.Z.isEmpty(c)||!o,onClick:function(){i().id?t((0,E.ZY)({data:i(),access_token:window.localStorage.getItem("access_token"),email:n.email,id:n.id,username:n.username})).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.payload)&&void 0!==n&&n.error||p("/users/clients")})):t((0,E.ZF)({data:i(),access_token:window.localStorage.getItem("access_token"),email:n.email,id:n.id,username:n.username})).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.payload)&&void 0!==n&&n.error||p("/users/clients")}))},children:"Save"})]})]})},Q=t(31427),U=t(41727);var R=function(e){var n=[{value:!0,label:"VIP"},{value:!1,label:"not VIP"}],t=(0,Z.Gc)(),a=t.control,s=t.formState.errors;return(0,P.jsxs)("div",{children:[(0,P.jsx)(Z.Qr,{name:"name",control:a,defaultValue:"",render:function(e){var n,t=e.field;return(0,P.jsx)(Q.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",error:!!s.name,required:!0,helperText:null===s||void 0===s||null===(n=s.name)||void 0===n?void 0:n.message,label:"Name",autoFocus:!0,id:"name",variant:"outlined",fullWidth:!0,placeholder:"name",InputProps:{startAdornment:(0,P.jsx)(U.Z,{position:"start",children:(0,P.jsx)(S.Z,{size:20,children:"material-solid:account_circle"})})}}))}}),(0,P.jsx)(Z.Qr,{name:"username",control:a,defaultValue:"",render:function(e){var n,t=e.field;return(0,P.jsx)(Q.Z,(0,r.Z)((0,r.Z)({},t),{},{id:"username",className:"mt-8 mb-16",error:!!s.username,required:!0,helperText:null===s||void 0===s||null===(n=s.username)||void 0===n?void 0:n.message,label:"username",placeholder:"username",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,P.jsx)(U.Z,{position:"start",children:(0,P.jsx)(S.Z,{size:20,children:"heroicons-outline:dots-horizontal"})})}}))}}),(0,P.jsx)(Z.Qr,{name:"email",control:a,defaultValue:"",render:function(e){var n,t=e.field;return(0,P.jsx)(Q.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",error:!!s.email,required:!0,helperText:null===s||void 0===s||null===(n=s.email)||void 0===n?void 0:n.message,label:"Email",id:"email",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,P.jsx)(U.Z,{position:"start",children:(0,P.jsx)(S.Z,{size:20,children:"heroicons-outline:mail"})})}}))}}),(0,P.jsx)(Z.Qr,{name:"password",control:a,defaultValue:"",render:function(e){var n,t=e.field;return(0,P.jsx)(Q.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",error:!!s.password,helperText:null===s||void 0===s||null===(n=s.password)||void 0===n?void 0:n.message,label:"Password",id:"password",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,P.jsx)(U.Z,{position:"start",children:(0,P.jsx)(S.Z,{size:20,children:"material-solid:password"})})}}))}}),(0,P.jsx)(Z.Qr,{name:"phone",control:a,defaultValue:"",render:function(e){var n,t=e.field;return(0,P.jsx)(Q.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",error:!!s.phone,required:!0,helperText:null===s||void 0===s||null===(n=s.phone)||void 0===n?void 0:n.message,label:"Phone",id:"phone",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,P.jsx)(U.Z,{position:"start",children:(0,P.jsx)(S.Z,{size:20,children:"heroicons-outline:phone"})})}}))}}),(0,P.jsx)(Z.Qr,{name:"address",control:a,defaultValue:"",render:function(e){var n,t=e.field;return(0,P.jsx)(Q.Z,(0,r.Z)((0,r.Z)({},t),{},{className:"mt-8 mb-16",error:!!s.address,required:!0,helperText:null===s||void 0===s||null===(n=s.address)||void 0===n?void 0:n.message,label:"Address",id:"address",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,P.jsx)(U.Z,{position:"start",children:(0,P.jsx)(S.Z,{size:20,children:"material-solid:edit_location_alt"})})}}))}}),(0,P.jsx)(Z.Qr,{control:a,name:"isImportant",render:function(e){var t,a=e.field;return(0,P.jsx)(Q.Z,(0,r.Z)((0,r.Z)({},a),{},{label:"Is Important",variant:"outlined",style:{width:"700px"},error:!!s.isImportant,helperText:null===s||void 0===s||null===(t=s.isImportant)||void 0===t?void 0:t.message,InputProps:{startAdornment:(0,P.jsx)(U.Z,{position:"start",children:(0,P.jsx)(S.Z,{size:20,children:"material-outline:edit_note"})})},id:"isImportant",select:!0,SelectProps:{native:!0},children:n.map((function(e){return(0,P.jsx)("option",{value:e.value,children:e.label},e.value)}))}))}})]})},B=g.Ry().shape({name:g.Z_().required("You must enter name").min(2,"Name must be at least 1 characters"),username:g.Z_().required("You must enter the username").min(2,"The username must be at least 2 characters"),password:g.Z_().when("password",(function(e,n){if(!((null===e||void 0===e?void 0:e.length)>0))return g.Z_().notRequired();g.Z_().required("pssword is required").min(8,"must be more than 8 characters").max(30,"must be less than 30 character").matches("^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$","Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character")})),address:g.Z_().when("address",(function(e,n){if(!((null===e||void 0===e?void 0:e.length)>0))return g.Z_().notRequired();g.Z_().required("pssword is required").min(3,"must be more than 3 characters").max(90,"must be less than 90 character")})),email:g.Z_().required("You must enter the email ").email("must be email format"),phone:g.Z_().required("You must enter the phone number").min(10,"The phone number must be 10 numbers").max(10,"The phone number must be 10 numbers"),isImportant:g.O7().required("")},[["password","password"],["address","address"]]);var G=(0,m.Z)("users",A.Z)((function(e){var n=(0,x.I0)(),t=(0,x.v9)(E.fn),m=(0,b.Z)((function(e){return e.breakpoints.down("lg")})),g=(0,x.v9)(y.dy),N=(0,v.UO)(),I=N.clientId,C=(0,p.useState)(0),k=(0,a.Z)(C,2),_=k[0],F=k[1],S=(0,p.useState)(!1),q=(0,a.Z)(S,2),z=q[0],T=q[1],A=(0,Z.cI)({mode:"onChange",defaultValues:{name:"",username:"",email:"",passsword:"",phone:"",address:"",logoFile:"",isImportant:!1},resolver:(0,w.X)(B)}),W=A.reset,Q=A.watch,U=(A.control,A.onChange,A.formState,Q());return(0,o.KW)((function(){"new"===I?n((0,E.zC)()):n((0,E.s3)({access_token:window.localStorage.getItem("access_token"),email:g.email,id:g.id,username:g.username,clientId:I})).then((function(e){e.payload||T(!0)}))}),[n,N]),(0,p.useEffect)((function(){t&&W(t)}),[t,W]),(0,p.useEffect)((function(){return function(){n((0,E.mB)()),T(!1)}}),[n]),z?(0,P.jsxs)(h.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,P.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"There is no such Client!"}),(0,P.jsx)(l.Z,{className:"mt-24",component:f.rU,variant:"outlined",to:"/users/clients",color:"inherit",children:"Go to Clients Page"})]}):j.Z.isEmpty(U)?(0,P.jsx)(s.Z,{}):(0,P.jsx)(Z.RV,(0,r.Z)((0,r.Z)({},A),{},{children:(0,P.jsx)(i.Z,{header:(0,P.jsx)(O,{}),content:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(d.Z,{value:_,onChange:function(e,n){F(n)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64 border-b-1"},children:[(0,P.jsx)(c.Z,{className:"h-64",label:"Basic Info"}),(0,P.jsx)(c.Z,{className:"h-64",label:"Logo"})]}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)("div",{className:0!==_?"hidden":"p-16 sm:p-24 max-w-2xl",children:(0,P.jsx)(R,{})}),(0,P.jsx)("div",{className:1!==_?"hidden":"p-16 sm:p-24 max-w-5xl",children:(0,P.jsx)(V,{})})]})]}),scroll:m?"normal":"content"})}))}))}}]);