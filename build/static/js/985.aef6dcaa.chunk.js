"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[985],{57985:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var i=t(47619),l=t(23132),a=t(38768),o=t(11290),r=t(69099),c=t(42461),s=t(82295),d=t(61113),u=t(81056),m=t(22408),f=t(29466),p=t(70492),v=t(38181),x=t(46417);var h=function(e){var n=(0,m.I0)(),t=(0,m.v9)(v.LG);return(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,x.jsx)(d.Z,{component:u.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,style:{color:"#f4b231"},className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Contracts"}),(0,x.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,x.jsxs)(s.Z,{component:u.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,x.jsx)(p.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,x.jsx)(c.Z,{placeholder:"Search contract",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return n((0,v.gd)(e))}})]}),(0,x.jsx)(u.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,x.jsx)(r.Z,{className:"",component:f.rU,to:"/contract/contracts/new",variant:"contained",color:"secondary",startIcon:(0,x.jsx)(p.Z,{children:"heroicons-outline:plus"}),children:"Add"})})]})]})},g=t(29439),b=t(92550),j=t(58970),Z=t(66835),y=t(57861),w=t(67478),k=t(62323),N=t(24076),C=t(47313),P=t(8139),S=t(63738),D=t(58631),I=t(82558),E=t(61689),T=t(23477),_=t(17551),A=[{id:"id",align:"center",disablePadding:!1,label:"ID",sort:!0},{id:"clientId",align:"center",disablePadding:!1,label:"Client",sort:!0},{id:"startDate",align:"center",disablePadding:!1,label:"Start Date",sort:!0},{id:"endDate",align:"center",disablePadding:!1,label:"End Date",sort:!0},{id:"linkToDrive",align:"center",disablePadding:!1,label:"Drive link",sort:!0},{id:"createdAt",align:"center",disablePadding:!1,label:"Created",sort:!0}];var L=function(e){return(0,x.jsx)(T.Z,{children:(0,x.jsx)(N.Z,{className:"h-48 sm:h-64",children:A.map((function(n){return(0,x.jsx)(w.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,_.$n)(e.palette.background.default,.4):(0,_.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:n.align,padding:n.disablePadding?"none":"normal",sortDirection:e.order.id===n.id&&e.order.direction,children:n.sort&&(0,x.jsx)(E.Z,{title:"Sort",style:{color:"#f4b231"},placement:"right"===n.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,x.jsx)(I.Z,{active:e.order.id===n.id,direction:e.order.direction,onClick:(t=n.id,function(n){e.onRequestSort(n,t)}),className:"font-semibold",style:{color:"#f4b231"},children:n.label})})},n.id);var t}),this)})})};var B=(0,P.Z)((function(e){var n=(0,m.I0)(),t=(0,m.v9)(v.f5),i=(0,m.v9)(v.LG),l=(0,m.v9)(D.dy),a=(0,C.useState)(!0),o=(0,g.Z)(a,2),r=o[0],c=o[1],s=(0,C.useState)([]),f=(0,g.Z)(s,2),p=f[0],h=f[1],P=(0,C.useState)(t),I=(0,g.Z)(P,2),E=I[0],T=I[1],_=(0,C.useState)(0),A=(0,g.Z)(_,2),B=A[0],R=A[1],q=(0,C.useState)(10),G=(0,g.Z)(q,2),U=G[0],$=G[1],H=(0,C.useState)({direction:"asc",id:null}),K=(0,g.Z)(H,2),M=K[0],O=K[1];return(0,C.useEffect)((function(){n((0,v.Kf)({access_token:window.localStorage.getItem("access_token"),email:l.email,id:l.id,username:l.username})).then((function(){c(!1)}))}),[n,l.username,l.id,l.email]),(0,C.useEffect)((function(){0!==(null===i||void 0===i?void 0:i.length)?(T(j.Z.filter(t,(function(e){var n,t;return null===e||void 0===e||null===(n=e.clientId)||void 0===n||null===(t=n.toString())||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase())}))),R(0)):T(t)}),[t,i]),r?(0,x.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,x.jsx)(S.Z,{})}):0===(null===E||void 0===E?void 0:E.length)||void 0===E?(0,x.jsx)(u.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,x.jsx)(d.Z,{color:"text.secondary",variant:"h5",children:"There are no Contracts!"})}):(0,x.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,x.jsx)(b.Z,{className:"grow overflow-x-auto",children:(0,x.jsxs)(Z.Z,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[(0,x.jsx)(L,{selectedContractsIds:p,order:M,onSelectAllClick:function(e){e.target.checked?h(E.map((function(e){return e.id}))):h([])},onRequestSort:function(e,n){var t=n,i="desc";M.id===n&&"desc"===M.direction&&(i="asc"),O({direction:i,id:t})},rowCount:null===E||void 0===E?void 0:E.length,onMenuItemClick:function(){h([])}}),(0,x.jsx)(y.Z,{children:j.Z.orderBy(E,[function(e){return"id"===M.id?e.id:e[M.id]}],[M.direction]).slice(B*U,B*U+U).map((function(n){var t,i,l,a=-1!==p.indexOf(n.id);return(0,x.jsxs)(N.Z,{className:"h-72 cursor-pointer",hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,onClick:function(t){return i=n,void e.navigate("/contract/contracts/".concat(i.id));var i},children:[(0,x.jsx)(w.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"center",children:null===n||void 0===n?void 0:n.id}),(0,x.jsx)(w.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"center",children:null===n||void 0===n?void 0:n.clientId}),(0,x.jsx)(w.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"center",children:null===n||void 0===n?void 0:n.startDate}),(0,x.jsx)(w.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"center",children:null===n||void 0===n?void 0:n.endDate}),(0,x.jsx)(w.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"center",children:(null===n||void 0===n||null===(t=n.linkToDrive)||void 0===t?void 0:t.length)>30?"".concat(null===n||void 0===n||null===(i=n.linkToDrive)||void 0===i?void 0:i.slice(0,30),"..."):"".concat(null===n||void 0===n?void 0:n.linkToDrive)}),(0,x.jsx)(w.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"center",children:"".concat(null===n||void 0===n||null===(l=n.createdAt)||void 0===l?void 0:l.split("T")[0])})]},n.id)}))})]})}),(0,x.jsx)(k.Z,{className:"shrink-0 border-t-1",component:"div",count:null===E||void 0===E?void 0:E.length,rowsPerPage:U,page:B,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,n){R(n)},onRowsPerPageChange:function(e){$(e.target.value)}})]})}));var R=(0,l.Z)("contract",o.Z)((function(){var e=(0,a.Z)((function(e){return e.breakpoints.down("lg")}));return(0,x.jsx)(i.Z,{header:(0,x.jsx)(h,{}),content:(0,x.jsx)(B,{}),scroll:e?"normal":"content"})}))}}]);