"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[155],{1155:function(e,n,a){a.r(n),a.d(n,{default:function(){return z}});var s=a(1413),r=a(29439),t=a(63738),i=a(47619),l=a(69649),o=a(69099),c=a(65280),d=a(82294),m=a(61113),u=a(23132),h=a(81056),x=a(47313),p=a(22408),f=a(29466),v=a(97890),Z=a(58970),j=a(75627),w=a(62563),b=a(6473),y=a(38768),N=a(58631),g=a(31978),_=a(78138),I=a(19860),k=a(70492),A=a(46417);var T=function(e){var n=(0,p.v9)(N.dy),a=(0,p.I0)(),s=(0,j.Gc)(),r=s.formState,t=s.watch,i=s.getValues,l=r.isValid,c=r.dirtyFields,d=t("username"),u=(0,I.Z)(),x=(0,v.s0)();return(0,A.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,A.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,A.jsx)(h.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,A.jsxs)(m.Z,{className:"flex items-center sm:mb-12",component:f.rU,role:"button",to:"/users/team",color:"inherit",children:[(0,A.jsx)(k.Z,{style:{color:"#f4b231"},size:20,children:"ltr"===u.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,A.jsx)("span",{className:"flex mx-4 font-medium",style:{color:"#f4b231"},children:"Team"})]})}),(0,A.jsx)("div",{className:"flex items-center max-w-full",children:(0,A.jsxs)(h.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,A.jsx)(m.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:d||"New User"}),(0,A.jsx)(m.Z,{variant:"caption",className:"font-medium",children:"User Detail"})]})})]}),(0,A.jsxs)(h.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,A.jsx)(o.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){a((0,g.J9)({access_token:window.localStorage.getItem("access_token"),email:n.email,id:n.id,username:n.username,companyUserId:i().id})).then((function(){x("/users/team")}))},startIcon:(0,A.jsx)(k.Z,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Remove"}),(0,A.jsx)(o.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",disabled:Z.Z.isEmpty(c)||!l,onClick:function(){i().id?a((0,g.ZT)({data:i(),access_token:window.localStorage.getItem("access_token"),email:n.email,id:n.id,username:n.username})).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.payload)&&void 0!==n&&n.error||x("/users/team")})):a((0,g.Xe)({data:i(),access_token:window.localStorage.getItem("access_token"),email:n.email,id:n.id,username:n.username})).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.payload)&&void 0!==n&&n.error||x("/users/team")}))},children:"Save"})]})]})},q=a(31427),C=a(41727),S=[{value:!0,label:"Admin"},{value:!1,label:"User"}];var U=function(e){var n=(0,j.Gc)(),a=n.control,r=n.formState.errors;return(0,A.jsxs)("div",{children:[(0,A.jsx)(j.Qr,{name:"name",control:a,defaultValue:"",render:function(e){var n,a=e.field;return(0,A.jsx)(q.Z,(0,s.Z)((0,s.Z)({},a),{},{className:"mt-8 mb-16",error:!!r.name,required:!0,helperText:null===r||void 0===r||null===(n=r.name)||void 0===n?void 0:n.message,label:"Name",autoFocus:!0,id:"name",variant:"outlined",fullWidth:!0,placeholder:"name",InputProps:{startAdornment:(0,A.jsx)(C.Z,{position:"start",children:(0,A.jsx)(k.Z,{size:20,children:"material-solid:account_circle"})})}}))}}),(0,A.jsx)(j.Qr,{name:"username",control:a,defaultValue:"",render:function(e){var n,a=e.field;return(0,A.jsx)(q.Z,(0,s.Z)((0,s.Z)({},a),{},{id:"username",className:"mt-8 mb-16",error:!!r.username,required:!0,helperText:null===r||void 0===r||null===(n=r.username)||void 0===n?void 0:n.message,label:"username",placeholder:"username",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,A.jsx)(C.Z,{position:"start",children:(0,A.jsx)(k.Z,{size:20,children:"heroicons-outline:dots-horizontal"})})}}))}}),(0,A.jsx)(j.Qr,{name:"email",control:a,defaultValue:"",render:function(e){var n,a=e.field;return(0,A.jsx)(q.Z,(0,s.Z)((0,s.Z)({},a),{},{className:"mt-8 mb-16",error:!!r.email,required:!0,helperText:null===r||void 0===r||null===(n=r.email)||void 0===n?void 0:n.message,label:"Email",id:"email",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,A.jsx)(C.Z,{position:"start",children:(0,A.jsx)(k.Z,{size:20,children:"heroicons-outline:mail"})})}}))}}),(0,A.jsx)(j.Qr,{name:"password",control:a,defaultValue:"",render:function(e){var n,a=e.field;return(0,A.jsx)(q.Z,(0,s.Z)((0,s.Z)({},a),{},{className:"mt-8 mb-16",error:!!r.password,helperText:null===r||void 0===r||null===(n=r.password)||void 0===n?void 0:n.message,label:"Password",id:"password",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,A.jsx)(C.Z,{position:"start",children:(0,A.jsx)(k.Z,{size:20,children:"material-solid:password"})})}}))}}),(0,A.jsx)(j.Qr,{name:"phone",control:a,defaultValue:"",render:function(e){var n,a=e.field;return(0,A.jsx)(q.Z,(0,s.Z)((0,s.Z)({},a),{},{className:"mt-8 mb-16",error:!!r.phone,required:!0,helperText:null===r||void 0===r||null===(n=r.phone)||void 0===n?void 0:n.message,label:"Phone",id:"phone",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,A.jsx)(C.Z,{position:"start",children:(0,A.jsx)(k.Z,{size:20,children:"heroicons-outline:phone"})})}}))}}),(0,A.jsx)(j.Qr,{control:a,name:"isAdmin",render:function(e){var n,a=e.field;return(0,A.jsx)(q.Z,(0,s.Z)((0,s.Z)({},a),{},{label:"Is Admin",variant:"outlined",style:{width:"700px"},error:!!r.isAdmin,helperText:null===r||void 0===r||null===(n=r.isAdmin)||void 0===n?void 0:n.message,InputProps:{startAdornment:(0,A.jsx)(C.Z,{position:"start",children:(0,A.jsx)(k.Z,{size:20,children:"material-outline:edit_note"})})},id:"isAdmin",select:!0,SelectProps:{native:!0},children:S.map((function(e){return(0,A.jsx)("option",{value:e.value,children:e.label},e.value)}))}))}})]})},P=b.Ry().shape({name:b.Z_().required("You must enter name").min(2,"Name must be at least 1 characters"),username:b.Z_().required("You must enter the username").min(2,"The username must be at least 2 characters"),password:b.Z_().when("password",(function(e,n){if(!((null===e||void 0===e?void 0:e.length)>0))return b.Z_().notRequired();b.Z_().required("pssword is required").min(8,"must be more than 8 characters").max(30,"must be less than 30 character").matches("^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$","Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character")})),email:b.Z_().required("You must enter the email ").email("must be email format"),phone:b.Z_().required("You must enter the phone number").min(10,"The phone number must be 10 numbers").max(10,"The phone number must be 10 numbers"),isAdmin:b.O7().required("")},[["password","password"]]);var z=(0,u.Z)("users",_.Z)((function(e){var n=(0,p.I0)(),a=(0,p.v9)(g.KK),u=(0,y.Z)((function(e){return e.breakpoints.down("lg")})),b=(0,p.v9)(N.dy),_=(0,v.UO)(),I=_.companyUserId,k=(0,x.useState)(0),q=(0,r.Z)(k,2),C=q[0],S=q[1],z=(0,x.useState)(!1),E=(0,r.Z)(z,2),V=E[0],Q=E[1],W=(0,j.cI)({mode:"onChange",defaultValues:{name:"",username:"",email:"",passsword:"",phone:"",isAdmin:!1},resolver:(0,w.X)(P)}),O=W.reset,R=W.watch,G=(W.control,W.onChange,W.formState,R());return(0,l.KW)((function(){"new"===I?n((0,g.vI)()):n((0,g.sR)({access_token:window.localStorage.getItem("access_token"),email:b.email,id:b.id,username:b.username,companyUserId:I})).then((function(e){e.payload||Q(!0)}))}),[n,_]),(0,x.useEffect)((function(){a&&O(a)}),[a,O]),(0,x.useEffect)((function(){return function(){n((0,g.GX)()),Q(!1)}}),[n]),V?(0,A.jsxs)(h.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,A.jsx)(m.Z,{color:"text.secondary",variant:"h5",children:"There is no such User!"}),(0,A.jsx)(o.Z,{className:"mt-24",component:f.rU,variant:"outlined",to:"/users/team",color:"inherit",children:"Go to Team Page"})]}):Z.Z.isEmpty(G)?(0,A.jsx)(t.Z,{}):(0,A.jsx)(j.RV,(0,s.Z)((0,s.Z)({},W),{},{children:(0,A.jsx)(i.Z,{header:(0,A.jsx)(T,{}),content:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.Z,{value:C,onChange:function(e,n){S(n)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64 border-b-1"},children:(0,A.jsx)(c.Z,{className:"h-64",label:"Basic Info"})}),(0,A.jsx)("div",{className:"",children:(0,A.jsx)("div",{className:0!==C?"hidden":"p-16 sm:p-24 max-w-2xl",children:(0,A.jsx)(U,{})})})]}),scroll:u?"normal":"content"})}))}))}}]);