"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[438],{87438:function(e,n,s){s.r(n),s.d(n,{default:function(){return V}});var t=s(1413),i=s(29439),a=s(63738),r=s(47619),l=s(69649),o=s(69099),c=s(65280),m=s(82294),u=s(61113),d=s(23132),h=s(81056),p=s(47313),x=s(22408),f=s(29466),v=s(97890),Z=s(58970),j=s(75627),b=s(62563),g=s(6473),w=s(38768),y=s(58631),N=s(94387),_=s(69382),I=s(19860),k=s(70492),C=s(46417);var q=function(e){var n=(0,x.v9)(y.dy),s=(0,x.I0)(),t=(0,j.Gc)(),i=t.formState,a=t.watch,r=t.getValues,l=i.isValid,c=i.dirtyFields,m=a("name"),d=(0,I.Z)(),p=(0,v.s0)();return(0,C.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,C.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,C.jsx)(h.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,C.jsxs)(u.Z,{className:"flex items-center sm:mb-12",component:f.rU,role:"button",to:"/websiteConfiguration/appointments",color:"inherit",children:[(0,C.jsx)(k.Z,{style:{color:"#f4b231"},size:20,children:"ltr"===d.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,C.jsx)("span",{className:"flex mx-4 font-medium",style:{color:"#f4b231"},children:"Appointments"})]})}),(0,C.jsx)("div",{className:"flex items-center max-w-full",children:(0,C.jsxs)(h.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,C.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:m||"New Appointment"}),(0,C.jsx)(u.Z,{variant:"caption",className:"font-medium",children:"Appointment Detail"})]})})]}),(0,C.jsxs)(h.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,C.jsx)(o.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){s((0,N.rE)({access_token:window.localStorage.getItem("access_token"),email:n.email,id:n.id,username:n.username,appointmentId:r().id})).then((function(){p("/websiteConfiguration/appointments")}))},startIcon:(0,C.jsx)(k.Z,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Remove"}),(0,C.jsx)(o.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",disabled:Z.Z.isEmpty(c)||!l,onClick:function(){r().id?s((0,N.GB)({data:r(),access_token:window.localStorage.getItem("access_token"),email:n.email,id:n.id,username:n.username})).then((function(){p("/websiteConfiguration/appointments")})):s((0,N.Fg)({data:r(),access_token:window.localStorage.getItem("access_token"),email:n.email,id:n.id,username:n.username})).then((function(){p("/websiteConfiguration/appointments")}))},children:"Save"})]})]})},S=s(31427),E=s(41727),T=[{value:!0,label:"Checked"},{value:!1,label:"Unchecked"}];var A=function(e){var n=(0,j.Gc)(),s=n.control,i=n.formState.errors;return(0,C.jsxs)("div",{children:[(0,C.jsx)(j.Qr,{name:"name",control:s,defaultValue:"",render:function(e){var n,s=e.field;return(0,C.jsx)(S.Z,(0,t.Z)((0,t.Z)({},s),{},{className:"mt-8 mb-16",error:!!i.name,required:!0,helperText:null===i||void 0===i||null===(n=i.name)||void 0===n?void 0:n.message,label:"Name",autoFocus:!0,id:"name",variant:"outlined",fullWidth:!0,placeholder:"Your name",InputProps:{startAdornment:(0,C.jsx)(E.Z,{position:"start",children:(0,C.jsx)(k.Z,{size:20,children:"heroicons-solid:user-circle"})})}}))}}),(0,C.jsx)(j.Qr,{name:"businessName",control:s,defaultValue:"",render:function(e){var n,s=e.field;return(0,C.jsx)(S.Z,(0,t.Z)((0,t.Z)({},s),{},{id:"businessName",className:"mt-8 mb-16",error:!!i.businessName,required:!0,helperText:null===i||void 0===i||null===(n=i.businessName)||void 0===n?void 0:n.message,label:"Business",placeholder:"Your business name",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,C.jsx)(E.Z,{position:"start",children:(0,C.jsx)(k.Z,{size:20,children:"heroicons-outline:library"})})}}))}}),(0,C.jsx)(j.Qr,{name:"email",control:s,defaultValue:"",render:function(e){var n,s=e.field;return(0,C.jsx)(S.Z,(0,t.Z)((0,t.Z)({},s),{},{className:"mt-8 mb-16",error:!!i.email,required:!0,helperText:null===i||void 0===i||null===(n=i.email)||void 0===n?void 0:n.message,label:"Email",id:"email",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,C.jsx)(E.Z,{position:"start",children:(0,C.jsx)(k.Z,{size:20,children:"heroicons-outline:mail"})})}}))}}),(0,C.jsx)(j.Qr,{name:"message",control:s,defaultValue:"",render:function(e){var n,s=e.field;return(0,C.jsx)(S.Z,(0,t.Z)((0,t.Z)({},s),{},{className:"mt-8 mb-16",error:!!i.message,helperText:null===i||void 0===i||null===(n=i.message)||void 0===n?void 0:n.message,label:"Message",id:"message",multiline:!0,minRows:9,variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,C.jsx)(E.Z,{position:"start",children:(0,C.jsx)(k.Z,{size:20,children:"heroicons-outline:chat-alt-2"})})}}))}}),(0,C.jsx)(j.Qr,{name:"service",control:s,defaultValue:"",render:function(e){var n,s=e.field;return(0,C.jsx)(S.Z,(0,t.Z)((0,t.Z)({},s),{},{className:"mt-8 mb-16",error:!!i.service,required:!0,helperText:null===i||void 0===i||null===(n=i.service)||void 0===n?void 0:n.message,label:"Service",id:"service",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,C.jsx)(E.Z,{position:"start",children:(0,C.jsx)(k.Z,{size:20,children:"material-outline:miscellaneous_services"})})}}))}}),(0,C.jsx)(j.Qr,{name:"phone",control:s,defaultValue:"",render:function(e){var n,s=e.field;return(0,C.jsx)(S.Z,(0,t.Z)((0,t.Z)({},s),{},{className:"mt-8 mb-16",error:!!i.phone,required:!0,helperText:null===i||void 0===i||null===(n=i.phone)||void 0===n?void 0:n.message,label:"Phone",id:"phone",variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,C.jsx)(E.Z,{position:"start",children:(0,C.jsx)(k.Z,{size:20,children:"heroicons-outline:phone"})})}}))}}),(0,C.jsx)(j.Qr,{control:s,name:"isDone",render:function(e){var n,s=e.field;return(0,C.jsx)(S.Z,(0,t.Z)((0,t.Z)({},s),{},{label:"Is Done",variant:"outlined",style:{width:"700px"},error:!!i.isDone,helperText:null===i||void 0===i||null===(n=i.isDone)||void 0===n?void 0:n.message,InputProps:{startAdornment:(0,C.jsx)(E.Z,{position:"start",children:(0,C.jsx)(k.Z,{size:20,children:"material-outline:edit_note"})})},id:"isDone",select:!0,SelectProps:{native:!0},children:T.map((function(e){return(0,C.jsx)("option",{value:e.value,children:e.label},e.value)}))}))}})]})},P=g.Ry().shape({name:g.Z_().required("You must enter name").min(2,"Name must be at least 1 characters"),businessName:g.Z_().required("You must enter the Business name").min(2,"The Business name must be at least 2 characters"),message:g.Z_().when("message",(function(e,n){return(null===e||void 0===e?void 0:e.length)>0?g.Z_().min(5,"Message must be at least 5 characters").required("Required"):g.Z_().notRequired()})),email:g.Z_().required("You must enter the email ").email("must be email format"),phone:g.Z_().required("You must enter the phone number").min(10,"The phone number must be 10 numbers").max(10,"The phone number must be 10 numbers"),isDone:g.O7().required("")},[["message","message"]]);var V=(0,d.Z)("websiteConfiguration",_.Z)((function(e){var n=(0,x.I0)(),s=(0,x.v9)(N.zL),d=(0,w.Z)((function(e){return e.breakpoints.down("lg")})),g=(0,x.v9)(y.dy),_=(0,v.UO)(),I=_.appointmentId,k=(0,p.useState)(0),S=(0,i.Z)(k,2),E=S[0],T=S[1],V=(0,p.useState)(!1),z=(0,i.Z)(V,2),D=z[0],Q=z[1],W=(0,j.cI)({mode:"onChange",defaultValues:{name:"",businessName:"",email:"",message:"",service:"",phone:"",isDone:!1},resolver:(0,b.X)(P)}),B=W.reset,R=W.watch,Y=(W.control,W.onChange,W.formState,R());return(0,l.KW)((function(){"new"===I?n((0,N.cx)()):n((0,N.Ey)({access_token:window.localStorage.getItem("access_token"),email:g.email,id:g.id,username:g.username,appointmentId:I})).then((function(e){e.payload||Q(!0)}))}),[n,_]),(0,p.useEffect)((function(){s&&B(s)}),[s,B]),(0,p.useEffect)((function(){return function(){n((0,N.fh)()),Q(!1)}}),[n]),D?(0,C.jsxs)(h.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,C.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"There is no such appointment!"}),(0,C.jsx)(o.Z,{className:"mt-24",component:f.rU,variant:"outlined",to:"/websiteConfiguration/appointments",color:"inherit",children:"Go to appointments Page"})]}):Z.Z.isEmpty(Y)?(0,C.jsx)(a.Z,{}):(0,C.jsx)(j.RV,(0,t.Z)((0,t.Z)({},W),{},{children:(0,C.jsx)(r.Z,{header:(0,C.jsx)(q,{}),content:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.Z,{value:E,onChange:function(e,n){T(n)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64 border-b-1"},children:(0,C.jsx)(c.Z,{className:"h-64",label:"Basic Info"})}),(0,C.jsx)("div",{className:"",children:(0,C.jsx)("div",{className:0!==E?"hidden":"p-16 sm:p-24 max-w-2xl",children:(0,C.jsx)(A,{})})})]}),scroll:d?"normal":"content"})}))}))}}]);