"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[125],{4125:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var i=n(1413),r=n(29439),a=n(63738),s=n(47619),o=n(69649),l=n(69099),c=n(65280),d=n(82294),u=n(61113),m=n(23132),h=n(81056),x=n(47313),p=n(22408),f=n(29466),g=n(97890),v=n(58970),j=n(75627),b=n(62563),w=n(6473),y=n(38768),Z=n(58631),N=n(20017),I=n(69382),k=n(19860),C=n(70492),F=n(46417);var S=function(e){var t=(0,p.v9)(Z.dy),n=(0,p.I0)(),i=(0,j.Gc)(),r=i.formState,a=i.watch,s=i.getValues,o=r.isValid,c=r.dirtyFields,d=a("title"),m=(0,k.Z)(),x=(0,g.s0)();return(0,F.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,F.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,F.jsx)(h.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,F.jsxs)(u.Z,{className:"flex items-center sm:mb-12",component:f.rU,role:"button",to:"/websiteConfiguration/blogs",color:"inherit",children:[(0,F.jsx)(C.Z,{size:20,style:{color:"#f4b231"},children:"ltr"===m.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,F.jsx)("span",{className:"flex mx-4 font-medium",style:{color:"#f4b231"},children:"Blogs"})]})}),(0,F.jsx)("div",{className:"flex items-center max-w-full",children:(0,F.jsxs)(h.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,F.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:d||"New Blog"}),(0,F.jsx)(u.Z,{variant:"caption",className:"font-medium",children:"Blog Detail"})]})})]}),(0,F.jsxs)(h.E.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,F.jsx)(l.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){n((0,N.T7)({access_token:window.localStorage.getItem("access_token"),email:t.email,id:t.id,username:t.username,blogId:s().id})).then((function(){x("/websiteConfiguration/blogs")}))},startIcon:(0,F.jsx)(C.Z,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Remove"}),(0,F.jsx)(l.Z,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",disabled:v.Z.isEmpty(c)||!o,onClick:function(){s().id?n((0,N.$Z)({data:s(),access_token:window.localStorage.getItem("access_token"),email:t.email,id:t.id,username:t.username})).then((function(){x("/websiteConfiguration/blogs")})):n((0,N.bl)({data:s(),access_token:window.localStorage.getItem("access_token"),email:t.email,id:t.id,username:t.username})).then((function(){x("/websiteConfiguration/blogs")}))},children:"Save"})]})]})},_=n(31427),T=n(41727);var z=function(e){var t=(0,j.Gc)(),n=t.control,r=t.formState.errors;return(0,F.jsxs)("div",{children:[(0,F.jsx)(j.Qr,{name:"title",control:n,defaultValue:"",render:function(e){var t,n=e.field;return(0,F.jsx)(_.Z,(0,i.Z)((0,i.Z)({},n),{},{className:"mt-8 mb-16",error:!!r.title,required:!0,helperText:null===r||void 0===r||null===(t=r.title)||void 0===t?void 0:t.message,label:"Title",autoFocus:!0,id:"title",variant:"outlined",placeholder:"Blog title",fullWidth:!0,InputProps:{startAdornment:(0,F.jsx)(T.Z,{position:"start",style:{transform:"rotate(180deg)"},children:(0,F.jsx)(C.Z,{size:20,children:"heroicons-outline:menu-alt-3"})})}}))}}),(0,F.jsx)(j.Qr,{name:"description",control:n,defaultValue:"",render:function(e){var t,n=e.field;return(0,F.jsx)(_.Z,(0,i.Z)((0,i.Z)({},n),{},{className:"mt-8 mb-16",id:"description",label:"Description",type:"text",required:!0,multiline:!0,minRows:5,placeholder:"This part go after the title (3-5 lines)",error:!!r.description,helperText:null===r||void 0===r||null===(t=r.description)||void 0===t?void 0:t.message,variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,F.jsx)(T.Z,{position:"start",children:(0,F.jsx)(C.Z,{size:20,children:"heroicons-outline:menu-alt-1"})})}}))}}),(0,F.jsx)(j.Qr,{name:"content",control:n,defaultValue:"",render:function(e){var t,n=e.field;return(0,F.jsx)(_.Z,(0,i.Z)((0,i.Z)({},n),{},{className:"mt-8 mb-16",id:"content",label:"Content",type:"content",placeholder:"This part go after the Description (10-50 lines)",multiline:!0,required:!0,minRows:10,error:!!r.content,helperText:null===r||void 0===r||null===(t=r.content)||void 0===t?void 0:t.message,variant:"outlined",fullWidth:!0,InputProps:{startAdornment:(0,F.jsx)(T.Z,{position:"start",children:(0,F.jsx)(C.Z,{size:20,children:"heroicons-outline:menu-alt-2"})})}}))}})]})},B=n(15861),E=n(64687),P=n.n(E),V=n(69850),R=n(88564),U=n(17551),q=n(9506),W=n(47131),D=(0,R.ZP)("div")((function(e){var t=e.theme;return{"& .productImageFeaturedStar":{position:"absolute",top:0,right:0,color:V.Z[400],opacity:0},"& .productImageUpload":{transitionProperty:"box-shadow",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut},"& .productImageItem":{transitionProperty:"box-shadow",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut,"&:hover":{"& .productImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:t.shadows[3],"& .productImageFeaturedStar":{opacity:1},"&:hover .productImageFeaturedStar":{opacity:1}}}}}));var G=function(e){var t=(0,j.Gc)(),n=t.control,i=(t.watch,(0,x.useState)()),a=(0,r.Z)(i,2),s=a[0],o=a[1],l=function(){var e=(0,B.Z)(P().mark((function e(n){var i,r;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:r=URL.createObjectURL(i),o(r),t.setValue("imageFile",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,F.jsx)(D,{children:(0,F.jsx)("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-16 ml-5 mt-10",children:(0,F.jsx)(j.Qr,{name:"imageFile",control:n,render:function(e){var t=e.field;return(0,F.jsx)(F.Fragment,{children:""!==t.value?(0,F.jsx)("div",{children:"string"==typeof t.value&&t.value.includes("uploadBlogImage")?(0,F.jsxs)(q.Z,{sx:{borderWidth:4,borderStyle:"solid",borderColor:"Background.paper"},className:"productImageItem flex items-center justify-center relative  rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer outline-none shadow hover:shadow-lg",children:[(0,F.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-10 z-10"}),(0,F.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:[(0,F.jsx)("div",{children:(0,F.jsxs)("label",{htmlFor:"imageFile",className:"flex p-8 cursor-pointer",children:[(0,F.jsx)("input",{accept:"image/*",className:"hidden",id:"imageFile",type:"file",onChange:function(){var e=(0,B.Z)(P().mark((function e(n){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.onChange(n),l(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,F.jsx)(C.Z,{className:"text-white",children:"heroicons-outline:camera"})]})}),(0,F.jsx)("div",{children:(0,F.jsx)(W.Z,{onClick:function(){t.onChange("")},children:(0,F.jsx)(C.Z,{className:"text-white",children:"heroicons-outline:trash"})})})]}),(0,F.jsx)("div",{className:"productImageItem flex items-center justify-center relative  max-w-400 max-h-400 overflow-hiden rounded-16  overflow-hidden cursor-pointer outline-none shadow hover:shadow-lg",children:(0,F.jsx)("img",{className:"max-h-400 max-w-400",src:"https://www.api.mavenevents.ae/blog/".concat(t.value),alt:"blog"})})]}):(0,F.jsxs)(q.Z,{sx:{borderWidth:4,borderStyle:"solid",borderColor:"Background.paper"},className:"productImageItem flex items-center justify-center relative  rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer outline-none shadow hover:shadow-lg",children:[(0,F.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-10 z-10"}),(0,F.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:[(0,F.jsx)("div",{children:(0,F.jsxs)("label",{htmlFor:"imageFile",className:"flex p-8 cursor-pointer",children:[(0,F.jsx)("input",{accept:"image/*",className:"hidden",id:"imageFile",type:"file",onChange:function(){var e=(0,B.Z)(P().mark((function e(n){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.onChange(n),l(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,F.jsx)(C.Z,{className:"text-white",children:"heroicons-outline:camera"})]})}),(0,F.jsx)("div",{children:(0,F.jsx)(W.Z,{onClick:function(){t.onChange("")},children:(0,F.jsx)(C.Z,{className:"text-white",children:"heroicons-outline:trash"})})})]}),(0,F.jsx)("img",{className:"max-h-400 max-w-400",src:s,alt:"blog"})]})}):(0,F.jsxs)(q.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,U.$n)(e.palette.background.default,.4):(0,U.$n)(e.palette.background.default,.02)}},component:"label",htmlFor:"imageFile",className:"productImageUpload flex items-center justify-center relative w-128 h-128 rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer shadow hover:shadow-lg",children:[(0,F.jsx)("input",{accept:"image/*",className:"hidden",id:"imageFile",type:"file",onChange:function(){var e=(0,B.Z)(P().mark((function e(n){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.onChange(n),l(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,F.jsx)(C.Z,{size:32,color:"action",children:"heroicons-outline:upload"})]})})}})})})};var O=w.Ry().shape({title:w.Z_().required("You must enter a blog title").min(3,"The blog title must be at least 3 characters"),description:w.Z_().required("You must enter a blog description").min(10,"The blog description must be at least 10 characters"),content:w.Z_().required("You must enter a blog content").min(20,"The blog content must be at least 20 characters")});var Q=(0,m.Z)("websiteConfiguration",I.Z)((function(e){var t=(0,p.I0)(),n=(0,p.v9)(N.a3),m=(0,y.Z)((function(e){return e.breakpoints.down("lg")})),w=(0,p.v9)(Z.dy),I=(0,g.UO)(),k=I.blogId,C=(0,x.useState)(0),_=(0,r.Z)(C,2),T=_[0],B=_[1],E=(0,x.useState)(!1),P=(0,r.Z)(E,2),V=P[0],R=P[1],U=(0,j.cI)({mode:"onChange",defaultValues:{content:"",description:"",title:"",imageFile:""},resolver:(0,b.X)(O)}),q=U.reset,W=U.watch,D=(U.control,U.onChange,U.formState,W());return(0,o.KW)((function(){"new"===k?t((0,N.d1)()):t((0,N.x3)({access_token:window.localStorage.getItem("access_token"),email:w.email,id:w.id,username:w.username,blogId:k})).then((function(e){e.payload||R(!0)}))}),[t,I]),(0,x.useEffect)((function(){n&&q(n)}),[n,q]),(0,x.useEffect)((function(){return function(){t((0,N.Pu)()),R(!1)}}),[t]),V?(0,F.jsxs)(h.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,F.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"There is no such blog!"}),(0,F.jsx)(l.Z,{className:"mt-24",component:f.rU,variant:"outlined",to:"/websiteConfiguration/blogs",color:"inherit",children:"Go to blogs Page"})]}):v.Z.isEmpty(D)?(0,F.jsx)(a.Z,{}):(0,F.jsx)(j.RV,(0,i.Z)((0,i.Z)({},U),{},{children:(0,F.jsx)(s.Z,{header:(0,F.jsx)(S,{}),content:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(d.Z,{value:T,onChange:function(e,t){B(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64 border-b-1"},children:[(0,F.jsx)(c.Z,{className:"h-64",label:"Basic Info"}),(0,F.jsx)(c.Z,{className:"h-64",label:"photo"})]}),(0,F.jsxs)("div",{className:"",children:[(0,F.jsx)("div",{className:0!==T?"hidden":"p-16 sm:p-24 max-w-5xl",children:(0,F.jsx)(z,{})}),(0,F.jsx)("div",{className:1!==T?"hidden":"p-16 sm:p-24 max-w-5xl",children:(0,F.jsx)(G,{})})]})]}),scroll:m?"normal":"content"})}))}))}}]);